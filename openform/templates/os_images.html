{% extends 'base.html' %}

{% block title %} Credential list {% endblock %}

{% block content %}
<!--main-container-part-->

<!-- ============================================================== -->
<!-- Bread crumb and right sidebar toggle -->
<!-- ============================================================== -->
 <div class="page-breadcrumb">
    <div class="row">
        <div class="col-12 d-flex no-block align-items-center">
            <h4 class="page-title">Images list</h4>
            <div class="ml-auto text-right">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Images</li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</div>
<!-- ============================================================== -->
<!-- Container fluid  -->
<!-- ============================================================== -->
<div class="container-fluid">
    <!-- ============================================================== -->
    <!-- Sales Cards  -->
    <!-- ============================================================== -->
    <div class="row">
      <div class="col-12">
          <div class="card">
            {% for prov in providers %}
              <div class="card-body">
                  <h5 class="card-title m-b-0">{{prov.name}} Images</h5>
              </div>
              <table class="table">
                    <thead class="thead-light">
                      <tr>
                        <th scope="col">Name</th>
                        <th scope="col">Provider</th>
                        {% if prov.provider_id == 1 %}
                          <th scope="col">AMI ID</th>
                        {% endif %}
                        {% if prov.provider_id == 2 %}
                          <th scope="col">Image ID</th>
                        {% endif %}
                        <th scope="col">Description</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% if prov.provider_id == 1 %}
                      {% for ami in images_aws_list %}
                      <tr>
                        <td>{{ami.name}}</td>
                        <td>{{prov.name}}</td>
                        <td>{{ami.ami_id}}</td>
                        <td>{{ami.description}}</td>
                      </tr>
                      {% endfor %}
                      {% endif %}
                      {% if prov.provider_id == 2 %}
                      {% for image in images_os_list %}
                      <tr>
                        <td>{{image.name}}</td>
                        <td>{{prov.name}}</td>
                        <td>{{image.image_id}}</td>
                        <td>{{image.description}}</td>
                      </tr>
                      {% endfor %}
                      {% endif %}
                    </tbody>
              </table>
            {% endfor %}
          </div>
      </div>
</div>
{% endblock %}
